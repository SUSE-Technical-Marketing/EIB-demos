apiVersion: 1.0
image:
  imageType: iso
  arch: x86_64
  baseImage: ${SLE-Micro.x86_64-verion.iso}
  outputImageName: eib-mgmt-cluster-image.iso
operatingSystem:
  isoConfiguration:
    installDevice: /dev/sda
  time:
    timezone: Europe/Paris
    ntp:
      forceWait: true
      pools:
        - 2.suse.pool.ntp.org
  systemd:
    enable:
      - cockpit.socket
  keymap: us
  users:
    - username: root
      encryptedPassword: ${USER-PASSWORD}
      createHomeDir: true

    - username: suse-user
      encryptedPassword: ${USER-PASSWORD}
      sshKeys:
        - ${ssh-rsa}

      createHomeDir: true
      secondaryGroups:
        - wheel
  packages:
    packageList:
      - git
      - jq
    additionalRepos:
    sccRegistrationCode: ${REGISTRATION-CODE}

kubernetes:
  version: ${KUBERNETES-VERSION}
      - name: cert-manager
        repositoryName: jetstack
        version: 1.14.2
        targetNamespace: cert-manager
        valuesFile: certmanager.yaml
        createNamespace: true
        installationNamespace: kube-system
      - name: metal3-chart
        version: 0.7.1
        repositoryName: suse-edge-charts
        targetNamespace: metal3-system
        createNamespace: true
        installationNamespace: kube-system
        valuesFile: metal3.yaml
      - name: rancher
        version: 2.8.4
        repositoryName: rancher-prime
        targetNamespace: cattle-system
        createNamespace: true
        installationNamespace: kube-system
        valuesFile: rancher.yaml
    repositories:
      - name: jetstack
        url: https://charts.jetstack.io
      - name: suse-edge-charts
        url: oci://registry.suse.com/edge
      - name: rancher-prime
        url: https://charts.rancher.com/server-charts/prime
